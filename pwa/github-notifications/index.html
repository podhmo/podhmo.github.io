<!doctype html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>GitHub Notifications</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">


    <script type="importmap">
        {
            "imports": {
                "preact": "https://esm.sh/preact@10.18.1",
                "preact/": "https://esm.sh/preact@10.18.1/",
                "./dist/": "./dist/"
            }
        }
    </script>
</head>

<body class="fullscreen">
    <div class="container" id="app">
    </div>

    <script type="module">
        import { h, render } from "preact";
        import { App, setAPIClient } from "./dist/app.js";

        // mockup if query includes "mockup"
        if (location.search.includes("mockup")) {
            const client = {
                fetchNotificationsAPI: async () => {
                    return await fetch("./testdata/fetch.json");
                }
            }
            setAPIClient(client);
        }

        const root = document.getElementById("app")
        render(h(App, null, null), root)
    </script>
</body>

</html>