[
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772042258",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1772042258",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1772042258,
    "node_id": "IC_kwDOAGeMds5pnzgS",
    "user": {
      "login": "gasche",
      "id": 426238,
      "node_id": "MDQ6VXNlcjQyNjIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/426238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gasche",
      "html_url": "https://github.com/gasche",
      "followers_url": "https://api.github.com/users/gasche/followers",
      "following_url": "https://api.github.com/users/gasche/following{/other_user}",
      "gists_url": "https://api.github.com/users/gasche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gasche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gasche/subscriptions",
      "organizations_url": "https://api.github.com/users/gasche/orgs",
      "repos_url": "https://api.github.com/users/gasche/repos",
      "events_url": "https://api.github.com/users/gasche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gasche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-20T04:02:06Z",
    "updated_at": "2023-10-20T04:02:06Z",
    "author_association": "MEMBER",
    "body": "Technically users may not understand that `F(X).T` counts as a \"name\". Also, in your example, it is not clear why `t` does not have a name -- its name is `t`, right?\r\n\r\nI think you have a good sense of the issue but I am not sure that your proposed change is really an improvement. Should we maybe consider writing a more detailed explanation somewhere in the manual, and linking to this in the error message?",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772042258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772160939",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1772160939",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1772160939,
    "node_id": "IC_kwDOAGeMds5poQer",
    "user": {
      "login": "smuenzel",
      "id": 12210540,
      "node_id": "MDQ6VXNlcjEyMjEwNTQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12210540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smuenzel",
      "html_url": "https://github.com/smuenzel",
      "followers_url": "https://api.github.com/users/smuenzel/followers",
      "following_url": "https://api.github.com/users/smuenzel/following{/other_user}",
      "gists_url": "https://api.github.com/users/smuenzel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smuenzel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smuenzel/subscriptions",
      "organizations_url": "https://api.github.com/users/smuenzel/orgs",
      "repos_url": "https://api.github.com/users/smuenzel/repos",
      "events_url": "https://api.github.com/users/smuenzel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smuenzel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-20T06:30:04Z",
    "updated_at": "2023-10-20T06:30:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here's a possible way of improving it:\r\n\r\n1) Change the wording in the manual at section 12.7.3 to include the syntactic definition of the path\r\n>If the right hand side of the substitution is not a @modtype-path@,\r\n>then the destructive substitution is only valid if the left-hand side of the\r\n>substitution is never used as the type of a first-class module in the original\r\n>module type.\r\n\r\n2) Change the wording of the error message to refer to the destructive substitution (to show that `t` is not available for naming in the final module type). Maybe:\r\n```\r\n Error: The module type \"t\" is not a valid type for a packed module:\r\n        destructive substitution of \"t\" is not possible since the resulting\r\n        packed module type cannot be named using a module type\r\n        path. (see manual section 12.7.3)\r\n```\r\n\r\n\r\nI guess this error message is more \"correct\", not sure if it's actually more helpful.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772160939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772253681",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1772253681",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1772253681,
    "node_id": "IC_kwDOAGeMds5ponHx",
    "user": {
      "login": "gasche",
      "id": 426238,
      "node_id": "MDQ6VXNlcjQyNjIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/426238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gasche",
      "html_url": "https://github.com/gasche",
      "followers_url": "https://api.github.com/users/gasche/followers",
      "following_url": "https://api.github.com/users/gasche/following{/other_user}",
      "gists_url": "https://api.github.com/users/gasche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gasche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gasche/subscriptions",
      "organizations_url": "https://api.github.com/users/gasche/orgs",
      "repos_url": "https://api.github.com/users/gasche/repos",
      "events_url": "https://api.github.com/users/gasche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gasche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-20T07:51:22Z",
    "updated_at": "2023-10-20T07:51:22Z",
    "author_association": "MEMBER",
    "body": "We can include examples and more detailed explanations in the manual, and give a more nuanced explanation than a beginner-friendly-but-also-confusing-in-some-cases wording choice.\r\n\r\nYour proposed wording seems good, but is it actually the case that this error can only be caused by destructive substitution and packed modules?\r\n\r\nYou could maybe improve clarity for beginners by showing some concrete syntax: \"destructive substitution (module type t := ...)\" instead of just \"destructive substitution\".",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772253681/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772287963",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1772287963",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1772287963,
    "node_id": "IC_kwDOAGeMds5povfb",
    "user": {
      "login": "Octachron",
      "id": 7689388,
      "node_id": "MDQ6VXNlcjc2ODkzODg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7689388?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Octachron",
      "html_url": "https://github.com/Octachron",
      "followers_url": "https://api.github.com/users/Octachron/followers",
      "following_url": "https://api.github.com/users/Octachron/following{/other_user}",
      "gists_url": "https://api.github.com/users/Octachron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Octachron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Octachron/subscriptions",
      "organizations_url": "https://api.github.com/users/Octachron/orgs",
      "repos_url": "https://api.github.com/users/Octachron/repos",
      "events_url": "https://api.github.com/users/Octachron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Octachron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-20T08:16:58Z",
    "updated_at": "2023-10-20T08:16:58Z",
    "author_association": "MEMBER",
    "body": "I tend to find the name local substitution (used in the manual) a little clearer than `destructive substitution` in this context. Maybe something like\r\n\r\n```\r\n Error: The name \"t\" is a temporary local name for an anonymous module type \r\n    which cannot be used as a type for a packed module (see manual section 12.7.3).\r\n ```\r\n ?",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772287963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772547197",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1772547197",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1772547197,
    "node_id": "IC_kwDOAGeMds5ppux9",
    "user": {
      "login": "smuenzel",
      "id": 12210540,
      "node_id": "MDQ6VXNlcjEyMjEwNTQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12210540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smuenzel",
      "html_url": "https://github.com/smuenzel",
      "followers_url": "https://api.github.com/users/smuenzel/followers",
      "following_url": "https://api.github.com/users/smuenzel/following{/other_user}",
      "gists_url": "https://api.github.com/users/smuenzel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smuenzel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smuenzel/subscriptions",
      "organizations_url": "https://api.github.com/users/smuenzel/orgs",
      "repos_url": "https://api.github.com/users/smuenzel/repos",
      "events_url": "https://api.github.com/users/smuenzel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smuenzel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-20T11:12:39Z",
    "updated_at": "2023-10-20T11:12:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "I changed the wording of the error message and added some details to the manual. In the manual, there are two relevant sections, so I only included the information once.",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772547197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772871212",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1772871212",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1772871212,
    "node_id": "IC_kwDOAGeMds5pq94s",
    "user": {
      "login": "gasche",
      "id": 426238,
      "node_id": "MDQ6VXNlcjQyNjIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/426238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gasche",
      "html_url": "https://github.com/gasche",
      "followers_url": "https://api.github.com/users/gasche/followers",
      "following_url": "https://api.github.com/users/gasche/following{/other_user}",
      "gists_url": "https://api.github.com/users/gasche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gasche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gasche/subscriptions",
      "organizations_url": "https://api.github.com/users/gasche/orgs",
      "repos_url": "https://api.github.com/users/gasche/repos",
      "events_url": "https://api.github.com/users/gasche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gasche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-20T14:42:40Z",
    "updated_at": "2023-10-20T14:42:40Z",
    "author_association": "MEMBER",
    "body": "(I don't think you need the \"Draft\" status anymore.)",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1772871212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1773584556",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1773584556",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1773584556,
    "node_id": "IC_kwDOAGeMds5ptsCs",
    "user": {
      "login": "smuenzel",
      "id": 12210540,
      "node_id": "MDQ6VXNlcjEyMjEwNTQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12210540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smuenzel",
      "html_url": "https://github.com/smuenzel",
      "followers_url": "https://api.github.com/users/smuenzel/followers",
      "following_url": "https://api.github.com/users/smuenzel/following{/other_user}",
      "gists_url": "https://api.github.com/users/smuenzel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smuenzel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smuenzel/subscriptions",
      "organizations_url": "https://api.github.com/users/smuenzel/orgs",
      "repos_url": "https://api.github.com/users/smuenzel/repos",
      "events_url": "https://api.github.com/users/smuenzel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smuenzel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-21T01:22:00Z",
    "updated_at": "2023-10-21T01:28:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "I updated the wording.\r\nI think ideally, we'd only have a single name for each concept.",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1773584556/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1773671810",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1773671810",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1773671810,
    "node_id": "IC_kwDOAGeMds5puBWC",
    "user": {
      "login": "gasche",
      "id": 426238,
      "node_id": "MDQ6VXNlcjQyNjIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/426238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gasche",
      "html_url": "https://github.com/gasche",
      "followers_url": "https://api.github.com/users/gasche/followers",
      "following_url": "https://api.github.com/users/gasche/following{/other_user}",
      "gists_url": "https://api.github.com/users/gasche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gasche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gasche/subscriptions",
      "organizations_url": "https://api.github.com/users/gasche/orgs",
      "repos_url": "https://api.github.com/users/gasche/repos",
      "events_url": "https://api.github.com/users/gasche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gasche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-21T05:07:29Z",
    "updated_at": "2023-10-21T05:07:29Z",
    "author_association": "MEMBER",
    "body": "I think that `local substitution` is the precise name for the feature, and `temporary local name` is the beginner-friendly explanation for the status of a name `t` when bound uusing this feature.\r\n\r\n@Octachron if the proposed wording also works for you, I think we can merge -- the implementation is fine.",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1773671810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1774725612",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1774725612",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1774725612,
    "node_id": "IC_kwDOAGeMds5pyCns",
    "user": {
      "login": "Octachron",
      "id": 7689388,
      "node_id": "MDQ6VXNlcjc2ODkzODg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7689388?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Octachron",
      "html_url": "https://github.com/Octachron",
      "followers_url": "https://api.github.com/users/Octachron/followers",
      "following_url": "https://api.github.com/users/Octachron/following{/other_user}",
      "gists_url": "https://api.github.com/users/Octachron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Octachron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Octachron/subscriptions",
      "organizations_url": "https://api.github.com/users/Octachron/orgs",
      "repos_url": "https://api.github.com/users/Octachron/repos",
      "events_url": "https://api.github.com/users/Octachron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Octachron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-23T08:54:24Z",
    "updated_at": "2023-10-23T08:54:24Z",
    "author_association": "MEMBER",
    "body": "Indeed, the `temporary` adjective is trying to give more context to the error: we have a requirement conflict between a name that is going out-of-scope soon and a first-class module type that needs to be anchored to some name.\r\n\r\nPedantically, `temporary` and `local` are clashing metaphors and redundant, but I have the feeling that it may help\r\nnon-expert users a lot without a notable conciseness cost.\r\n\r\nMaybe we could drop the local part in `temporary local name` since we are now using the more precise `local substitution` name:\r\n```\r\nit is defined as a local substitution (temporary name)\r\n```\r\nlike this we are using a spatial metaphor on the expert side and a temporal one on the beginner side without layering the two on top of another?",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1774725612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1774814344",
    "html_url": "https://github.com/ocaml/ocaml/pull/12679#issuecomment-1774814344",
    "issue_url": "https://api.github.com/repos/ocaml/ocaml/issues/12679",
    "id": 1774814344,
    "node_id": "IC_kwDOAGeMds5pyYSI",
    "user": {
      "login": "gasche",
      "id": 426238,
      "node_id": "MDQ6VXNlcjQyNjIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/426238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gasche",
      "html_url": "https://github.com/gasche",
      "followers_url": "https://api.github.com/users/gasche/followers",
      "following_url": "https://api.github.com/users/gasche/following{/other_user}",
      "gists_url": "https://api.github.com/users/gasche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gasche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gasche/subscriptions",
      "organizations_url": "https://api.github.com/users/gasche/orgs",
      "repos_url": "https://api.github.com/users/gasche/repos",
      "events_url": "https://api.github.com/users/gasche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gasche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-23T09:44:34Z",
    "updated_at": "2023-10-23T09:44:34Z",
    "author_association": "MEMBER",
    "body": "I could discuss the precise wording of the error message for a couple extra weeks, there are so many nuances! But I am in favor of merging the current state which seems fine.",
    "reactions": {
      "url": "https://api.github.com/repos/ocaml/ocaml/issues/comments/1774814344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
